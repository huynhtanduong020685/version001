<!--
  Generated template for the ChatsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{receiver['name']}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="message-wrap">
    <div *ngFor="let msg of msgList" class="message" [class.left]=" msg['sender'] === receiver['base64'] "
      [class.right]=" msg['sender'] === user['base64'] ">
      <img class="user-img" [src]="receiver['picture']" alt="" *ngIf="msg['sender'] === receiver['base64']">
      <img class="user-img" [src]="user['picture']" alt=""  *ngIf="msg['sender'] === user['base64']">
      <ion-spinner name="dots" *ngIf="msg.status === 'pending'"></ion-spinner>
      <div class="msg-detail">
        <div class="msg-info">
          <p>
            {{msg.userName}}&nbsp;&nbsp;&nbsp;{{msg.date|date:'MMM dd, yyyy hh:mm aa'}}</p>
        </div>
        <div class="msg-content">
          <span class="triangle"></span>
          <p class="line-breaker ">{{msg.message}}</p>
        </div>
      </div>
    </div>

  </div>
</ion-content>
<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col col-10>
        <ion-textarea [(ngModel)]="message" rows="2" placeholder="Message"></ion-textarea>
      </ion-col>
      <ion-col col-2>
        <button (tap)="submitChat()" ion-button small>Send</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
